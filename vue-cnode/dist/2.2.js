/**/webpackJsonp([2],{27:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},s=i(9),n=(a(s),i(4)),r=a(n),c=i(5),l=i(6),d=a(l),u=i(90),p=a(u);e.default={mixins:[d.default],components:{replyBox:p.default},computed:(0,c.mapState)({user:function(t){return t.user}}),routeData:function(){return{existence:!0,id:"",author_id:"",tab:"share",content:"",title:"",last_reply_at:"",good:!1,top:!1,reply_count:0,visit_count:0,create_at:"",author:{},replies:[],is_collect:!1}},mounted:function(){this.getData()},methods:{getData:function(){var t=this,e=this.$route.params.vid;r.default.get("/api/v1/topic/"+e,{},function(e){var i=e.data,a=e.success;a?(i.replies.forEach(function(t){return t.comment=!1}),o(t.$data,i)):t.existence=!1})},testThing:function(t){return t.indexOf(this.user.id||"")>-1},fabulousItem:function(t){var e=t.ups,i=t.id;if(!this.user.accesstoken)return this.$router.push("/login");var a=e.indexOf(this.user.id);a>-1?e.splice(a,1):e.push(this.user.id),r.default.post("/api/v1/reply/"+i+"/ups")},commentShow:function(t){if(!this.user.accesstoken)return this.$router.push("/login");var e=t.comment;this.replies.forEach(function(t){return t.comment=!1}),t.comment=!e}}}},28:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(4),s=a(o);e.default={props:{reply_id:{type:String,default:""},loginname:{type:String,default:""}},data:function(){return{btnname:"回复",content:""}},methods:{submit:function(){var t=this;if(!this.content)return s.default.toast("请输入回复内容");this.btnname="回复中...";var e=this.reply_id,i=this.content,a=this.loginname,o=this.$route.params.vid;e&&(i="[@"+a+"](/user/"+a+") "+i),i+='\n\r<br>来自<a href="https://lzxb.github.io/vue-cnode/" target="_blank">vue-cnode手机版</a>',s.default.post("/api/v1/topic/"+o+"/replies",{reply_id:e,content:i},function(e){var i=e.success,a=e.error_msg;t.btnname="回复",i?(t.content="",t.$emit("success")):s.default.toast(a)},function(){t.btnname="回复失败"})}}}},48:function(t,e,i){e=t.exports=i(1)(),e.push([t.id,".reply-box .text[data-v-0a9c7e58]{padding:5px 10px;margin-bottom:10px;border-radius:5px;border:1px solid #eee}.reply-box .text textarea[data-v-0a9c7e58]{box-sizing:border-box;width:100%;line-height:24px;border:none;font-size:13px;resize:none}.reply-box .text textarea[data-v-0a9c7e58]:focus{outline:none}.reply-box .btn[data-v-0a9c7e58]{padding:5px 30px;line-height:24px;border-radius:5px;border:1px solid #76ae01;font-size:14px;color:#fff;background:#80bd01}.reply-box .btn[data-v-0a9c7e58]:focus{outline:none}.reply-box .msg[data-v-0a9c7e58]{padding:5px 10px;line-height:26px;color:red}",""])},59:function(t,e,i){e=t.exports=i(1)(),e.push([t.id,".datas[data-v-6f0b647c]{padding:10px;border-bottom:1px solid #eee}.datas .tit[data-v-6f0b647c]{position:relative;padding:10px 0;margin:0;line-height:24px;font-weight:700;font-size:22px;text-align:center;color:#222}.datas .bottom .item[data-v-6f0b647c]{padding:0 5px;color:#666}.datas .bottom .item .iconfont[data-v-6f0b647c]{padding-right:3px}.re-list li[data-v-6f0b647c]{padding:10px;border-bottom:1px solid #eee}.re-list .headimg[data-v-6f0b647c]{padding-right:10px}.re-list .headimg .pic[data-v-6f0b647c]{overflow:hidden;display:block;width:28px;height:28px;border-radius:50%;border:1px solid #ddd;background-color:#eee;background-position:50%;background-size:cover}.re-list time[data-v-6f0b647c]{padding-left:10px;font-size:12px}.re-list .num[data-v-6f0b647c]{font-size:13px}.re-list .bottom .icon[data-v-6f0b647c]{position:relative;padding:5px 10px}.re-list .bottom .icon.fabulous[data-v-6f0b647c]{color:#80bd01}.re-list .bottom .icon em[data-v-6f0b647c]{font-size:13px;font-style:normal}.re-list .markdown-body[data-v-6f0b647c]{padding:10px 0}.re-list .replies-count[data-v-6f0b647c]{border-left:5px solid #80bd01}.re-list .replies-count em[data-v-6f0b647c]{font-style:normal;color:#80bd01}.reply[data-v-6f0b647c]{padding:50px 10px}.tip-login[data-v-6f0b647c]{padding:100px;text-align:center}",""])},89:function(t,e,i){var a,o;i(121),a=i(27);var s=i(104);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=s.render,o.staticRenderFns=s.staticRenderFns,o._scopeId="data-v-6f0b647c",t.exports=a},90:function(t,e,i){var a,o;i(110),a=i(28);var s=i(93);o=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(o=a=a.default),"function"==typeof o&&(o=o.options),o.render=s.render,o.staticRenderFns=s.staticRenderFns,o._scopeId="data-v-0a9c7e58",t.exports=a},93:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return e("div",{staticClass:"reply-box"},[e("form",{on:{submit:function(e){e.preventDefault(),t.submit(e)}}},[e("div",{staticClass:"text"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{placeholder:t.loginname?"@"+t.loginname:"发表你的看法..."},domProps:{value:t._s(t.content)},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})])," ",e("div",{attrs:{flex:"main:right"}},[e("div",{staticClass:"msg"})," ",e("div",{attrs:{"flex-box":"0"}},[e("button",{staticClass:"btn"},[t._s(t.btnname)])])])])])},staticRenderFns:[]}},104:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return e("div",[e("v-header",{attrs:{title:"主题"}},[e("div",{staticClass:"item",attrs:{flex:"main:center cross:center"},on:{click:function(e){t.$router.go(-1)}},slot:"left"},[e("i",{staticClass:"iconfont icon-back"})])])," ",e("v-content",{directives:[{name:"scroll-record",rawName:"v-scroll-record"}],staticStyle:{bottom:"0"}},[!t.id&&t.existence?e("v-loading"):t._e()," ",t.existence?t._e():e("v-data-null",{attrs:{msg:"话题不存在"}})," ",t.id?[t.top||t.good?e("div",{staticClass:"common-typeicon",attrs:{flex:""}},[t.good?e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-topic-good"})]):t._e()," ",t.top?e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont icon-topic-top"})]):t._e()]):t._e()," ",e("ul",{staticClass:"re-list"},[e("li",{attrs:{flex:"box:first"}},[e("div",{staticClass:"headimg"},[e("router-link",{staticClass:"pic",style:{backgroundImage:"url("+t.author.avatar_url+")"},attrs:{to:"/user/"+t.author.loginname}})])," ",e("div",{staticClass:"bd"},[e("div",{attrs:{flex:""}},[e("router-link",{attrs:{"flex-box":"0",to:"/user/"+t.author.loginname}},[t._s(t.author.loginname)])," ",e("time",{attrs:{"flex-box":"1"}},[t._s(t._f("formatDate")(t.create_at))])," ",e("div",{staticClass:"num",attrs:{"flex-box":"0"}},["#楼主"])])])])," "," "," ",e("li",[e("div",{staticClass:"datas"},[e("div",{staticClass:"tit"},[t._s(t.title)])," ",e("div",{staticClass:"bottom",attrs:{flex:"main:center"}},[e("div",{staticClass:"item click",attrs:{flex:"main:center cross:center"}},[e("i",{staticClass:"iconfont icon-click"})," ",e("div",{staticClass:"num"},[t._s(t.visit_count)])])," ",e("div",{staticClass:"item reply",attrs:{flex:"main:center cross:center"}},[e("i",{staticClass:"iconfont icon-comment"})," ",e("div",{staticClass:"num"},[t._s(t.reply_count)])])])])," ",e("div",{staticClass:"markdown-body",domProps:{innerHTML:t._s(t.content)}})])," "," ",t.replies.length?e("li",{staticClass:"replies-count"},["\n                    共(",e("em",[t._s(t.replies.length)]),")条回复\n                "]):t._e()," "," ",t._l(t.replies,function(i,a){return e("li",[e("div",{attrs:{flex:"box:first"}},[e("div",{staticClass:"headimg"},[e("router-link",{staticClass:"pic",style:{backgroundImage:"url("+i.author.avatar_url+")"},attrs:{to:"/user/"+i.author.loginname}})])," ",e("div",{staticClass:"bd"},[e("div",{attrs:{flex:""}},[e("router-link",{attrs:{"flex-box":"0",to:"/user/"+i.author.loginname}},[t._s(i.author.loginname)])," ",e("time",{attrs:{"flex-box":"1"}},[t._s(t._f("formatDate")(i.create_at))])," ",e("div",{staticClass:"num",attrs:{"flex-box":"0"}},["#"+t._s(a+1)])])," ",e("div",{staticClass:"markdown-body",domProps:{innerHTML:t._s(i.content)}})," ",e("div",{staticClass:"bottom",attrs:{flex:"dir:right cross:center"}},[e("div",{staticClass:"icon",on:{click:function(e){t.commentShow(i,a)}}},[e("i",{staticClass:"iconfont icon-comment-topic"})])," ",i.author.loginname!==t.user.loginname?e("div",{staticClass:"icon",class:{fabulous:t.testThing(i.ups)},on:{click:function(e){t.fabulousItem(i)}}},[e("i",{staticClass:"iconfont icon-comment-fabulous"})," ",i.ups.length?e("em",[t._s(i.ups.length)]):t._e()]):t._e()])])])," ",i.comment?e("reply-box",{attrs:{loginname:i.author.loginname,reply_id:i.id},on:{success:t.getData}}):t._e()])})," "])," ",t.user.id?e("div",{staticClass:"reply"},[e("reply-box",{on:{success:t.getData}})]):t._e()," ",t.user.id?t._e():e("div",{staticClass:"tip-login"},["\n                你还未登录，请先",e("router-link",{attrs:{to:"/login"}},["登录"])])]:t._e()])])},staticRenderFns:[]}},110:function(t,e,i){var a=i(48);"string"==typeof a&&(a=[[t.id,a,""]]),i(2)(a,{}),a.locals&&(t.exports=a.locals)},121:function(t,e,i){var a=i(59);"string"==typeof a&&(a=[[t.id,a,""]]),i(2)(a,{}),a.locals&&(t.exports=a.locals)}});
